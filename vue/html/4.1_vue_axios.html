<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
    <script src="http://47.94.208.182/base/js/jquery-1.10.1.min.js"></script>
    <script src="../js/axios.js"></script>
    <style>
        .static{
            width:200px;
            height:200px;
            margin:10px;
            background: orange;
        }
        .box{
            width:100px;
            height:100px;
          
            background: red;
        }
        label{
            display: block;
        }

    </style>
</head>
<body>
    <div id="app">
        <h2>{{title}}</h2>
        <h2>msg == {{msg }}</h2>
        <button @click="getMsg()">获取数据</button>
        <p v-for="(li,index) in list" :key="index">
            <img width="100" height="100" :src="'http://www.phonegap100.com/'+li.pic" alt="">
            <span>{{li.title}}</span>
        </p>
    </div>
    <!-- 
        ajax
        原生ajax    xhr  XMLHttpRequest
        jquery  $.get  $.post  $.ajax
        
        $.ajax
        axios
        vue-resource
        fetch

        axios.request(config)
        axios.get(url[, config])
        axios.delete(url[, config])
        axios.head(url[, config])
        axios.options(url[, config])
        axios.post(url[, data[, config]])
        axios.put(url[, data[, config]])
        axios.patch(url[, data[, config]])

     -->
    <script src="../js/vue.js"></script>
    <script>
    axios.defaults.baseURL = "http://localhost:4400/" ;  // 开发
    let vm = new Vue({
        data:{
            title:"axios  ",
            msg:"",
            list:[]
        },
        methods:{
            getMsg(){
                // axios({
                //     url:"/vue",  // pathname 
                //     method:"get",
                //     params:{
                //         id:123
                //     },
                //     headers:{

                //     }
                // }).then(res=>{
                //     console.log(res);
                //     this.msg = res.data;
                // }).catch(err=>{
                //     console.log(err)
                // })

                // axios.get("http://localhost:4400/vue",{
                //     params:{
                //         id:1234,
                //     }
                // })
                // .then(res=>{
                //     console.log(res);
                //     this.msg = res.data;
                // })
                // .catch(err=>{
                //     console.log(err);
                // })

                axios.get("http://www.phonegap100.com/appapi.php",{
                    params:{
                        a:"getPortalList",
                        catid:20,
                        page:1,
                        id:8888
                    }
                }).then(res=>{
                    console.log(res)
                    this.list = res.data.result;
                })
            }
        },

        created(){
            // axios.post("/vue/register",{
            //     username:"zz",
            //     password:"xx",
            //     dbpwd:"ddd",
            //     nickname:"xxxx"
            // },{
            //     params:{
            //         id:1803
            //     }
            // }).then(res=>{
            //     console.log(res.data);
            // })


            axios({
                url:"/vue/register",
                method:"POST",
                data:{
                    username:"zz",
                    password:"xx",
                    dbpwd:"ddd",
                    nickname:"xxxx"
                },
                params:{
                    id:1818
                }
            }).then(res=>{
                console.log(res.data)
            })
        },
        mounted(){
            document.querySelector("title").innerHTML = this.title;

        }
    }).$mount("#app")

    </script>
</body>
</html>

