<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        ul li{list-style: none; }
    </style>
</head>
<body>
<ul>
    <li class="first"><span>1</span></li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
    <li class="last"><span id="last">5</span></li>
</ul>
<button id="hidbtn">隐藏</button>
<button id="showbtn">显示</button>
<button id="gethtml">获取内容</button>
<button id="sethtml">设置内容</button>
<button id="getstyle">获取样式</button>
<button id="setstyle">设置样式</button>
<button id="bind">绑定事件</button>
<button id="eq">筛选</button>
<button id="siblings">兄弟节点</button>
</body>
<script>
    function getele(ele){
        this.eles=document.querySelectorAll(ele);
    }

//    var p=new getele("ul li");

    function $(ele){return new getele(ele);}

    getele.prototype.each= function (fn) {
        for(var i=0;i<this.eles.length;i++){
            fn(this.eles[i])
        }
    };
//隐藏内容
    getele.prototype.hidden= function () {
        this.each(function (item) {

            item.style.display="none";
        })
    };
//显示内容
    getele.prototype.show= function () {
        this.each(function (item) {
            item.style.display="block";
            item.style.fontSize="30px";
            item.style.color="green";
        })
    };
//获取内容
    getele.prototype.gethtml= function () {
        this.each(function (item) {
            alert(item.innerHTML);
        })
    };
    //设置内容
    getele.prototype.sethtml= function (html) {
        this.each(function (item) {
            item.innerHTML=html;
        });
        return this;
    };
    //获取样式
    getele.prototype.getstyleattr= function (attr) {
        this.each(function (item) {
            if(window.getComputedStyle){alert(window.getComputedStyle(item)[attr])}
            else {alert(item.currentStyle[attr])}
        })
    };
    //设置样式
    getele.prototype.setstyleattr= function (obj) {
        this.each(function (item) {
            for(var attr in obj){

                item.style[attr]=obj[attr];
            }

        });
        return this;
    };
    //绑定事件
    getele.prototype.bindclick= function (fn) {
        this.each(function (item) {
            item.onclick=fn;
        })
    }
    //绑定附加事件
    getele.prototype.bindadd= function (event,fn) {
        this.each(function (item) {
            item.addEventListener(event,fn)
        })
    };
    //指定节点
    getele.prototype.eq= function (index) {
        this.alleles=this.eles;
        this.eles=[this.eles[index]];
        return this;
    };
    //兄弟节点
    getele.prototype.siblings= function () {
        var list=[];
        for(var i=0;i<this.alleles.length;i++){
            if(this.alleles[i]!=this.eles[0]){
                list.push(this.alleles[i])
            }
        };
        this.eles=list;
        return this;
    }

    var hidbtn=document.getElementById("hidbtn");
    var showbtn=document.getElementById("showbtn");
    var gethtmlbtn=document.getElementById("gethtml");
    var sethtmlbtn=document.getElementById("sethtml");
    var getstylebtn=document.getElementById("getstyle");
    var setstylebtn=document.getElementById("setstyle");
    var addthing=document.getElementById("addthing");
    var bind=document.getElementById("bind");
    var eqbtn=document.getElementById("eq");
    var siblingsbtn=document.getElementById("siblings");

    hidbtn.onclick= function () {
        $("ul li span").hidden();
    };
    showbtn.onclick= function () {
        $("ul li span").show();
    };

    gethtmlbtn.onclick= function () {
        $("ul li #last").gethtml();
    };
    sethtmlbtn.onclick= function () {
        $("ul li #last").sethtml("666");
    };
    getstylebtn.onclick= function () {
        $("ul li.last").getstyleattr("height");
    };

    setstylebtn.onclick= function () {
        $("ul li").setstyleattr({border:"1px solid red",width:"100px"});
    };

    $("#bind").bindclick(function () {
//        alert("dididi")
        $("ul li").bindclick(function () {
        alert("dididi")

        })
    });

    $("#bind").bindadd("mouseover",function () {
            $("ul li").setstyleattr({color:"red"})
        }
    );
    $("#bind").bindadd("mouseout",function () {
                $("ul li").setstyleattr({color:"#000"})
            }
    );
    $("#eq").bindclick(function () {
        $("ul li").eq(2).setstyleattr({color:"blue",fontSize:"50px"})
    });
    $("#siblings").bindclick(function () {
        $("ul li").eq(2).setstyleattr({color:"red"}).siblings().setstyleattr({color:"yellow"})
    });

    $("#bind").bindclick(function () {
        $("ul li").eq(2).sethtml("999").siblings().setstyleattr({fontSize:"70px"});
//        $("ul li").setstyleattr({fontSize:"70px"});

    })

</script>
</html>