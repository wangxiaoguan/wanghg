<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{padding:0;margin:0;}
        input{width:210px;margin-right:10px;}
        .box{width:210px;border:1px solid #000;margin-top:10px;display: none;}
        .box > .header{display:flex;}
        .box > .mon{text-align:center;}
        .box >.header > span{padding: 0 10px;}
        .prev,.next{cursor: pointer;}
        .year{flex: 1;text-align: center;}
        .week{width:210px;height:20px;background: #ccc;}
        .week span{float:left;width:30px;height:20px;line-height:20px;text-align:center;}
        .calendar{overflow: hidden;list-style: none;}
        .calendar li{float:left;width:30px;height:20px;line-height:20px;text-align: center;cursor: pointer;}
        .calendar li:hover{background:#9A0000;color:#fff;}
        
    </style>
</head>
<body>
<input id="startdate"><input id="enddate"><input id="parsedate">
<!--<div class="box">-->
    <!--<div class="header">-->
        <!--<span class="prev">上</span>-->
        <!--<span class="year">2018</span>-->
        <!--<span class="mon">1</span>-->
        <!--<span class="next">下</span>-->
    <!--</div>-->
    <!--<div class="week">-->
        <!--<span>日</span>-->
        <!--<span>一</span>-->
        <!--<span>二</span>-->
        <!--<span>三</span>-->
        <!--<span>四</span>-->
        <!--<span>五</span>-->
        <!--<span>六</span>-->
    <!--</div>-->
    <!--<ul id="dateall">-->
    <!--</ul>-->
<!--</div>-->
</body>
<script src="js/data.js"></script>
<script>
    var startdate=document.getElementById("startdate");
    var enddate=document.getElementById("enddate");
    var parsedate=document.getElementById("parsedate");

//    var ul=document.getElementById("dateall");
//    var prev=document.getElementsByClassName("prev")[0];
//    var next=document.getElementsByClassName("next")[0];
//    var year=document.getElementsByClassName("year")[0];
//    var mon=document.getElementsByClassName("mon")[0];
//
//    var date=new Date();
//    weekday = date.weekfirstday() == 0 ? 6 : date.weekfirstday();


    function alldate() {

        this.create();

        var that=this;
        this.date=new Date();
        var days=this.date.currentdays();
        weekday = that.date.weekfirstday() == 0 ? 6 : that.date.weekfirstday();


            for (var i = 0; i < weekday; i++) {
                this.li = document.createElement("li");
                this.li.style.color = "red";
                this.li.innerHTML = this.date.prevdays() - weekday + 1 + i;
                this.calendar.appendChild(this.li);
            }
            ;
            for (var i = 1; i <= days; i++) {
                this.li = document.createElement("li");
                this.li.innerHTML = i;
                this.li.style.color = this.date.getDate() == i ? "#0f0" : "#a0a";
                this.li.onclick = function () {
                    that.result = that.date.getFullYear() + "-" + that.date.getMonth() + "-" + this.innerHTML;
                };
                this.calendar.appendChild(this.li);
            }

            this.bindEvent();
    };
    alldate.prototype.bindEvent= function () {
        var that=this;
        startdate.onclick= function () {

            that.box.style.display="block";
            that.box.style.left="2px";
            this.value =that.result;
        };
        enddate.onclick= function () {
////            var eleEnd=that.box.cloneNode(true);
//            that.create();
//            this.value =that.result;
            that.box.style.display="block";
            that.box.style.left="227px";
            this.value =that.result;
        };
        parsedate.onclick= function () {
//            this.value =that.result;
            that.box.style.display="block";
            that.box.style.left="449px";
            this.value =that.result;
        }
//       document.onclick= function () {
//           that.box.style.display="none";
//       }
    }
    alldate.prototype.initevent= function () {

    }
    alldate.prototype.create= function () {
        this.box=document.createElement("div");
        this.box.className="box";
        this.box.style.position="absolute";
//        document.body.appendChild(this.box);

        this.header=document.createElement("div");
        this.header.className="header";
        this.box.appendChild(this.header);

        this.prev=document.createElement("span");
        this.prev.className="prev";
        this.prev.innerHTML="上";
        this.header.appendChild(this.prev);

        this.year=document.createElement("span");
        this.year.className="year";
        this.year.innerHTML="2018"+this.date.getMonth();
        this.header.appendChild(this.year);

        this.next=document.createElement("span");
        this.next.className="next";
        this.next.innerHTML="下";
        this.header.appendChild(this.next);

        this.week=document.createElement("div");
        this.week.className="week";
        this.week.innerHTML=` <span>日</span>
                                <span>一</span>
                                <span>二</span>
                                <span>三</span>
                                <span>四</span>
                                <span>五</span>
                                <span>六</span>`;
        this.box.appendChild(this.week);

        this.calendar=document.createElement("ul");
        this.calendar.className="calendar";
        this.box.appendChild(this.calendar);

    }



    new alldate();
</script>
</html>