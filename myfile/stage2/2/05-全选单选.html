<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</ul>
<input class="checkall" type="checkbox" name="check" >全选
<input class="check" type="checkbox" name="check">水果
<input class="check" type="checkbox" name="check">蔬菜
<input class="check" type="checkbox" name="check">海鲜

</body>
<script>

    var checkall=document.getElementsByClassName("checkall")[0];
    var checklist=document.getElementsByClassName("check");
    var count=0;
    var allcount=checklist.length;

    checkall.onclick=function () {
        var status=checkall.checked;
    for (var i=0;i<checklist.length;i++) {
        check = checklist[i];
        check.checked = status;
       }
        if (status){
            count=allcount;
        } else {
            count=0;
        }
    };

    for (var i=0;i<checklist.length;i++ ) {
        var check = checklist[i];
        check.onclick = function () {
            if (this.checked) {
                count++;
            } else {
                count--;
            }

            if (count ==allcount) {
                checkall.checked = true;
            } else {
                checkall.checked = false;
            }
        }
    }


</script>
</html>