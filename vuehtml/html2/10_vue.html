<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="../js/axios.js"></script>
    <script src="../js/jquery.js"></script>
    <script src="../js/vue.js"></script>
</head>
<body>
    <div id="app">
        <h2>{{title}}</h2>
        <button @click="getmsg()">获取百度信息</button>
        <input type="text" v-model="abc">
        <input type="text" v-model="getall">
        <input type="text" @input.lazy="input($event)">
        <p v-for="li in list">{{li}}</p>
        
       
    </div>
    <script src="../js/vue-resource.js"></script>
    <script>
        var vm=new Vue({
            data:{
                title:"学习百度跨域接口",
                list:[],
                url:"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",
                // "https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",
                txt:"",
                abc:""
            },
            methods:{
                getmsg(){
                    this.$http.jsonp(this.url,{
                        jsonp:"cb",
                        params:{wd:"html"}
                    }).then(res=>{
                        console.log(res.body);
                        this.list=res.body.s
                    })
                },
                input(e){
                    this.$http({
                        url:this.url,
                        method:"jsonp",
                        params:{wd:e.target.value},
                        jsonp:"cb"
                    }).then(res=>{this.list=res.body.s})
                }

            },
            computed:{
                getall:{
                    get(){return ""},
                    set(val){
                        this.$http({
                            url:this.url,
                            method:"jsonp",
                            params:{wd:val},
                            jsonp:"cb"
                        }).then(res=>{
                            this.list=res.body.s;
                        })
                    }
                }
               
            },
            watch:{
                abc(val){
                    this.$http.jsonp(this.url,{
                        jsonp:"cb",
                        params:{wd:val}
                    }).then(res=>{
                        console.log(res.body);
                        this.list=res.body.s
                    })
                }
            }







        }).$mount("#app")
    
    </script>
</body>
</html>