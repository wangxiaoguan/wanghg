<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
    <script src="http://47.94.208.182/base/js/jquery-1.10.1.min.js"></script>
    <script src="../js/axios.js"></script>
    
    <style>
        .static{
            width:200px;
            height:200px;
            margin:10px;
            background: orange;
        }
        .box{
            width:100px;
            height:100px;
          
            background: red;
        }
        label{
            display: block;
        }

    </style>
</head>
<body>
    <div id="app">
        <h2>{{title}}</h2>
        <p><input type="text" v-focus> </p>
        <h2 v-hide="flag">v-hide v-hide</h2>
        <h2 v-my-like:like.show="'yellow'" >自定义指令 v-my-like </h2>
        <h2 v-demo:click.enter.36 = "get" >demodemodemo </h2>
        <h2 v-my-dir="color">so easy </h2>
    </div>
    <!-- 
        代码复用和抽象的主要形式是组件  小巧  独立  高度复用

        自定义指令的目的是对 普通 DOM 元素进行底层操作 

        v-focus 
        指令名称 focus  

        myLike 
        指令名称 v-my-like 

        v-my-like:like.show="'yellow'"
        name   my-like
        value   'yellow'
        expression   "'yellow'"
        arg  like
        modifiers  修饰符  show
     -->
    <script src="../js/vue.js"></script>
    <script src="../js/vue-resource.js"></script>
    <script>
    Vue.directive("focus",{
        inserted(el){
            // el 当前dom 元素 
            el.focus();
        }
    });
    Vue.directive("hide",{
        update(el,binding){
            console.log(binding)
            el.style.display = binding.value ? "none" :' block'
        }
    })
    let vm = new Vue({
        data:{
            title:"自定义指令    ",
            demo:"daydayup",
            flag:false,
            color:'red'
        },
        methods:{
            get(){
                alert('daydayup')
            }
        },
        directives:{
            "myLike":{
                bind(el){

                },
                inserted(el,binding){
                    console.log(binding);
                    el.style.color = binding.value 
                }
            },
            demo:{
                bind(el,binding){
                    console.log(el);
                    console.log(binding)
                    el.addEventListener(binding.arg,binding.value);
                    
                },
                inserted(el,binding){
                    var s = JSON.stringify
                    el.innerHTML =
                    'name: '       + s(binding.name) + '<br>' +
                    'value: '      + s(binding.value) + '<br>' +
                    'expression: ' + s(binding.expression) + '<br>' +
                    'argument: '   + s(binding.arg) + '<br>' +
                    'modifiers: '  + s(binding.modifiers) + '<br>' 

                },
                update(el){2

                },
                unbind(el){

                }
            },
            myDir:{
                bind(el,binding){
                    console.log("bind");
                    el.style.background = binding.value;
                },
                update(el,binding){
                    console.log("red");
                    // 元素更新才会进入  
                    el.style.background = binding.value;
                }
            }
            
        },

        mounted(){
            document.querySelector("title").innerHTML = this.title;

        }
    }).$mount("#app")

    </script>
</body>
</html>

