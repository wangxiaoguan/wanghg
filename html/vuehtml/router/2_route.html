<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="../js/vue.js"></script>
    <script src="../js/vue-router.min.js"></script>
    <script src="../js/vue-resource.js"></script>
</head>
<body>
    <div id="app">
        <h2>{{title}}</h2>
       <router-link to="/home/1803">首页</router-link>
       <router-link to="/find/wanghg/evan/you">发现</router-link>
       <router-link to="/about">关于</router-link>
       <router-view style="color: red"></router-view>
    </div>
    <template id="find">
        <div>
            <h2>find-find-find 发现生活的美</h2>
            <p>
                <router-link to="/detail/8888/天道酬勤?token=1803&hot=true#node">天道酬勤</router-link>
                <router-link to="/detail/1314/至死不渝?token=520&hot=false#love">至死不渝</router-link>
            </p>
        </div>
    </template>

    <template id="detail">
        <div>
            <h3>detail-detail</h3>
            <h2>id: {{$route.params.id}}</h2> 
            <h2>title: {{$route.params.title}}</h2> 
            <h2>{{$route.query}}</h2>
            <h2>token {{$route.query.token}}</h2>
            <h2>hot {{$route.query.hot}}</h2>
            <h2>hash {{$route.hash }}</h2>
            <h2>path {{$route.path}}</h2>
            <h2>name {{$route.name}}</h2>
            <h2>fullPath {{$route.fullPath}}</h2>
        </div>
    </template>
    <script>
        //1   定义路由组件
        const home=Vue.extend({template:`<h2>这是 首页  home - home - home</h2>`});
        const find=Vue.extend({template:"#find"});
        const about = Vue.extend({template:`<h2>这是关于你的所有成绩页面.....</h2>`});
        const detail = Vue.extend(      {template:"#detail",mounted(){  console.log(this.$route)}    }   );
        //2   定义路由配置
        const routes=[
            {path:"/home/:id?",component:home},
            {path:"/find/:username/evan/:title",component:find},
            {path:"/user/message",component:{template:"<h1>message-message </h1>"}},
            {path:"/user/:msg",component:{template:"<h1>{{$route.params.msg}}</h1>"}},
            {path:"/about",component:about,alias:"/me"},//alias(化名) 即 "/abut"=="/me"
            {path:"/detail/:id/:title",component:detail,name:"detail"},
            // {path:"*",redirect:"/home"},
            {path:"*",component:{ template:"<h1>404-404-404-notFound</h1>"}},
        ];
        // 3  定义router
        const router=new VueRouter({routes:routes});
    
        var vm=new Vue({
            el:"#app",
            router:router,
            data:{title:"动态路由匹配 params & query "},
        });
    </script>
</body>
</html>