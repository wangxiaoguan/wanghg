<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        * {padding: 0;margin: 0;list-style: none;}
        html,body{width: 100%;height: 100%;}
        .news {width:400px;overflow: hidden;margin-left: 30px;margin-top: 30px;}
        #message{width: 300px; overflow: hidden;margin: 5px 30px;}
        .answer{width: 260px;overflow: hidden;position:relative;border:1px solid red;}
        .reply{width:40px;height:20px;background:green;color:#fff;
            position: absolute;top: 0;right: 0;}
    #show{width: 100%;height:100%;background:rgba(0,0,0,0.3);position:fixed;top: 0;
        display: none;}
    #box{width: 500px;height: 300px;position:absolute;left: 0;top: 0;bottom: 0;right: 0;margin: auto;text-align: center;border: 1px solid black;}
    </style>
</head>
<body>

<div class="news">
    <textarea id="text" cols="30" rows="10"></textarea>
    <button id="btn">提交</button>
    <br/>
    <p>BOSS您好,还能输入<span id="num" style="color: red;"></span>个字</p>
</div>
<div id="message">
</div>
<div id="show">
    <div id="box">
        <textarea id="replymsg" cols="30" rows="10"></textarea><br>
        <button id="replysegbtn">回复消息</button>
    </div>
</div>
</body>
<script>
    var btn = document.getElementById("btn");//提交按钮
    var message=document.getElementById("message");//留言外框
    var replymsg=document.getElementById("replymsg");//回复的消息
    var replysegbtn=document.getElementById("replysegbtn");//回复按钮
    var table=null;
    var timer=null;
    var times=10;
var fn=function (){
        var date=new Date();
        var hour=date.getHours();
        var min=date.getMinutes();
        var sec=date.getSeconds();
        var time=hour+":"+min+":"+sec+"<br/>";//得到时间

        var show=document.getElementById("show");
        var div=document.createElement("div");
        var div1=document.createElement("div");
        var div2=document.createElement("div");
        div.appendChild(div1);
        div.appendChild(div2);
        div.className="answer";
        var input = document.getElementById("text");//留言框
        var content=input.value;//留言内容
            div1.innerHTML=time;
            div2.innerHTML+=content;

            message.appendChild(div);

        var button=document.createElement("button");
        button.innerHTML="回复";
        button.className="reply";
        button.onclick=function () {
            table= this.parentNode.parentNode;
            show.style.display="block";
        };
        div1.appendChild(button);
            //点击事件的控制
        btn.disabled = true;
        btn.onclick = null; //彻底的让事件失效
        btn.innerHTML = "还是有" + times + "秒可以留言";

        timer = setInterval(function () {
            times--;
            btn.innerHTML = "还是有" + times + "秒可以留言";
            if (times == 0) {
                clearInterval(timer);
                btn.disabled = false;
                btn.onclick = fn;
                btn.innerHTML = "留言";
                times = 10;
            }
        }, 1000);
    };
         btn.onclick =fn;
         replysegbtn.onclick=function(){
             var content2=replymsg.value;//回复的消息
             var div = document.createElement("div");
             div.innerHTML = content2;
             table.appendChild(div);
             replymsg.value="";
             show.style.display = "none";
    }


   
</script>
</html>