<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>重力加速度</title>
    <style>
        *{padding: 0;margin: 0;}
        #ball{width: 50px;height: 50px;border-radius: 50%;background:green;position: absolute;top:0;left: 0;}
    </style>
</head>
<body>
<div id="ball"></div>
</body>
<script type="text/javascript">
    var ball=document.getElementById("ball");

    var maxheight=document.documentElement.clientHeight||document.body.clientHeight;
    var move=maxheight-ball.offsetHeight;
    ball.onclick=function () {
        change(ball,{top:move},1)
    };
    function change(obj,objList,speed,show){
        clearInterval(obj.timer);
        var countAll=0;
        for (var i in objList){countAll++;}
        obj.timer=setInterval(function () {
            var count=0;
            for (var i in objList) {
                var attr = i;
                var attrValue = objList[i];
                var startValue = parseInt(getStyleAttr(obj, attr));//获取起始位置
                speed++;
                console.log(speed);
                obj.style[attr] = parseInt(getStyleAttr(obj, attr)) + speed + "px";
                if (obj.offsetTop>=attrValue){
                    obj.style[attr]=attrValue+"px";
                    count++;
                }
                if (count==countAll){clearInterval(obj.timer);if (show){show()} }
            }
        },50)
    }
    function getStyleAttr(obj,attr) {
        if (window.getComputedStyle){
            return window.getComputedStyle(obj)[attr];
        }else{return  obj.currentStyle[attr];}
    }
</script>
</html>