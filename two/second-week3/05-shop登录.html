<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <style type="text/css">
        .reg{width: 300px;margin: 30px auto;overflow: hidden;}
        .reg a{text-decoration: none;font-size: 12px;}
    </style>
</head>
<body>
<div class="reg">
<input id="username" placeholder="用户名"><span id="spanmatch"></span><br/>
<input id="password" placeholder="密码"><span id="spancode"></span><br/>
<button id="btn">登录</button><a href="05-shop修改密码.html">修改密码</a>
</div>
</body>
<script src="00-Cookie.js"></script>
<script>
    var usernameinput=document.getElementById("username");
    var passwordinput=document.getElementById("password");

    var spanmatch=document.getElementById("spanmatch");
    var spancode=document.getElementById("spancode");

    var btn=document.getElementById("btn");

    btn.onclick=function () {
        var username = usernameinput.value;
        var password = passwordinput.value;
        if (getCookie("username_"+username)) {//验证用户名是否存在
           var getpass=getCookie("password_"+username);
            if (password==getpass){//验证密码是否错误
                setCookie("isLogin",1,7);
                window.location.href="05-shop添加商品.html";
            }else {
                spanmatch.innerHTML = "";
                spancode.innerHTML = "密码错误";
                spancode.style.color = "red";
            }
        } else {
            spanmatch.innerHTML = "该用户名不存在";
            spanmatch.style.color = "red";
            spancode.innerHTML = "";
            return false;
        }
    };

    // btn.onclick=function () {
    //     var  username=usernameinput.value;
    //     var  password=passwordinput.value;
    //     setCookie("username",username,7);
    //     setCookie("password",password,7)
    // };

    // function setCookie(key, value, days) {
    //     var date = new Date();
    //     date.setDate(date.getDate() + days);
    //     document.cookie = key + "=" + value + ";expires=" + date;
    // }

    // function getCookie(key) {
    //     var cookies = document.cookie;
    //     if (cookies) {
    //         var cookieList = cookies.split("; ");//取出所有的cookie
    //         var value = "";
    //         cookieList.forEach(function (cookie) {
    //             var item = cookie.split("=");
    //
    //             var itemKey = item[0];
    //             var itemValue = item[1];
    //
    //             if (itemKey == key) {
    //                 value = itemValue;
    //                 return false;//终止里面函数的执行
    //             }
    //         });
    //         return value;
    //     } else {
    //         return "";
    //     }
    // }
</script>
</html>