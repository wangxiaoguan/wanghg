<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{padding: 0;margin: 0;}
        #car{width: 100px;height: 30px;background:red;position:absolute;left:1000px;top:0;
            text-align: center;line-height:30px;color:#fff;}
        #btn{width: 100px;height: 30px;background:green;position:absolute;left: 0;top:300px;
            color:#fff;text-align: center;line-height:30px;}
        #cir{width: 20px;height: 20px;border-radius:50%;background:aqua;position: absolute;
            left:0px;top:0px;}
    </style>
</head>
<body>
<div id="car">购物车</div>
<div id="btn">
    <span>购买</span>
    <span id="cir"></span>
</div>
</body>
<script>
    var car=document.getElementById("car");
    var btn=document.getElementById("btn");
    var cir=document.getElementById("cir");

    var carleft=car.offsetLeft;//1000
    var carheight=car.offsetHeight;//30

    var btntop=btn.offsetTop;//300
    var btnwidth=btn.offsetWidth;//100

    var cirX=carleft-btnwidth;//900
    var cirY=btntop;//300




    btn.onclick=function () {

        change(cir,{left:1000,top:-300},100,function () {cir.style.display="none"; })};



    function change(obj,objList,time,show){
            clearInterval(obj.timer);
            var countAll=0;
            for (var i in objList){countAll++;}

        obj.timer=setInterval(function () {
            var count=0;
            for (var i in objList) {
                var attr = i;
                var attrValue = objList[i];
                var startValue = parseInt(getStyleAttr(obj, attr));//获取起始位置
                var speed=(attrValue-startValue)/time;
                speed = attrValue > startValue ? Math.ceil(speed) : Math.floor(speed);
                obj.style[attr] = parseInt(getStyleAttr(obj, attr)) + speed + "px";
                if (speed==0) { count++ }
                if (count==countAll){clearInterval(obj.timer);if (show){show()} }
            }
        },5)
    }
    function getStyleAttr(obj,attr) {
        if (window.getComputedStyle){
            return window.getComputedStyle(obj)[attr];
        }else{return  obj.currentStyle[attr];}
    }
</script>
</html>