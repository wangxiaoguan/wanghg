<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>减速运动</title>
    <style>
        *{padding: 0;margin: 0;}
        body,html{height: 100%;width:100%;}
        #ball{width: 50px;height: 50px;border-radius: 50%;background:green;position: absolute;top:0;left: 0;}
    </style>
</head>
<body>
<div id="ball"></div>
</body>
<script type="text/javascript">
	var ball=document.getElementById("ball");
	var body=document.getElementsByTagName("body")[0];
	bodyheight=body.offsetHeight;
	ball.onclick=function () {
        change(ball,{top:bodyheight-ball.offsetHeight},100)
    };
    function change(obj,objList,time,show){
        clearInterval(obj.timer);
        var countAll=0;
        for (var i in objList){countAll++;}
    obj.timer=setInterval(function () {
        var count=0;
        for (var i in objList) {
            var attr = i;
            var attrValue = objList[i];
            var startValue = parseInt(getStyleAttr(obj, attr));//获取起始位置
            var speed=(attrValue-startValue)/time;
            speed = attrValue > startValue ? Math.ceil(speed) : Math.floor(speed);
            obj.style[attr] = parseInt(getStyleAttr(obj, attr)) + speed + "px";
            if (speed==0) { count++ }
            if (count==countAll){clearInterval(obj.timer);if (show){show()} }
        }
    },5)
    }
    function getStyleAttr(obj,attr) {
        if (window.getComputedStyle){
            return window.getComputedStyle(obj)[attr];
        }else{return  obj.currentStyle[attr];}
    }
</script>
</html>