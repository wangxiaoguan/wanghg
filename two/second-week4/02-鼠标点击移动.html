<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        html,body{
            width: 1700px;
         }
        #red{width: 300px;height: 300px;background-color: red;margin: 30px auto;}
    </style>
</head>
<body>
<div id="red"></div>
</body>
<script>
    var red=document.getElementById("red");
    red.onmousedown=function(e){
        var evt=window.event||e;
        var clientX=evt.clientX;
        var clientY=evt.clientY;

        var scrollLeft=document.documentElement.scrollLeft||document.body.scrollLeft;
        var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;

        var marginleft=parseInt(getStyleAttr(red,"margin-left"));
        var margintop=parseInt(getStyleAttr(red,"margin-top"));

        var divX=clientX+scrollLeft-marginleft;
        var divY=clientY+scrollTop-margintop;

        document.onmousemove=function (e) {
            let evt=window.event||e;
            var clientX=evt.clientX;
            var clientY=evt.clientY;
            var scrollLeft=document.documentElement.scrollLeft||document.body.scrollLeft;
            var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;
            red.style.marginLeft=clientX+scrollLeft-divX+"px";
            red.style.marginTop=clientY+scrollTop-divY+"px";

        };
        document.onmouseup=function () {
            document.onmousemove=null;

        }
    };


    function getStyleAttr(obj,attr) {
        if (window.getComputedStyle){
            return getComputedStyle(obj)[attr];
        }else {
            return obj.currentStyle[attr];
        }
    }

</script>
</html>