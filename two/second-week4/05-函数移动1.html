<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{padding:0;margin: 0;}
        #red{width: 200px;height: 200px;background:red;position: absolute;top:0;left:0;
            text-align: center;line-height:50px;}
        #green{width:50px;height:50px;background:green;position:absolute;left:200px;top:75px;}
    </style>
</head>
<body>
<div id="red">
    <div id="green">分享</div>
</div>
</body>
<script type="text/javascript">
    var red=document.getElementById("red");
    var timer=null;
    var speed=1;
    red.onmouseover = function () {
        change(red,"width",400,1,change1);
    };


    var change1=function (){change(red,"height",400,1)};
    function change(obj,attr,endValue,speed,show){
        clearInterval(obj.timer);
        var startValue=parseInt(getStyleAttr(obj,attr));//获取起始位置
        speed=endValue>startValue?Math.abs(speed):-Math.abs(speed);
        obj.timer=setInterval(function () {
            obj.style[attr]=parseInt(getStyleAttr(obj,attr))+speed+"px";
            if (speed>0){
                if (parseInt(getStyleAttr(obj,attr))>=endValue) {
                    obj.style[attr] = endValue + "px";
                    clearInterval(obj.timer);
                    if (show){show()}
                }
            }else if (speed<0){
                if (parseInt(getStyleAttr(obj,attr))<=endValue) {
                    obj.style[attr] = endValue + "px";
                    clearInterval(obj.timer);
                    if (show){show()}
                }
            }
        },10)
    }
    function getStyleAttr(obj,attr) {
        if (window.getComputedStyle){
            return window.getComputedStyle(obj)[attr];
        }else{return  obj.currentStyle[attr];}
    }

</script>
</html>